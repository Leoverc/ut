<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu Mastermind</title>
</head>
<body>
    <h1>Jeu Mastermind</h1>
    
    <table id="tableTentatives" border="1">
        <thead>
            <tr>
                <th>Tentative</th>
                <th>Résultat</th>
            </tr>
        </thead>
        <tbody>
            <!-- Cette partie sera remplie par JavaScript -->
        </tbody>
    </table>
    
    <script>
        const solution = [2, 0, 3, 5];
        let tentatives = [];
        let indiceTentative = 1;

        while (true) {
            let tentative = prompt("Entrez une série de 4 chiffres entre 0 et 9 comme 5961 : ");
            while (!tentative.match(/^\d{4}$/)) {
                tentative = prompt("ERREUR !! Entrez une série de 4 chiffres entre 0 et 9 comme 5961 : ");
            }
            
            let chiffres = tentative.split('').map(Number);
            
            let bonChiffre = 0;
            let bonnePlace = 0;

            solution.forEach((chiffreSolution, index) => {
                if (chiffres[index] === chiffreSolution) {
                    bonnePlace++;
                } else if (chiffres.includes(chiffreSolution)) {
                    bonChiffre++;
                }
            });

            if (bonnePlace === 4) {
                alert("Gagné ! Vous avez trouvé la solution : 2035");
                break;
            } else {
                alert("Il BITE y a " + bonChiffre + " bon(s) chiffre(s), dont " + bonnePlace + " chiffre(s) à la bonne place.\nLe jeu va continuer.");
            }

            tentatives.push({ tentative: tentative, bonChiffre: bonChiffre, bonnePlace: bonnePlace });
            updateTableTentatives();
        }

        function updateTableTentatives() {
            const tableBody = document.querySelector('#tableTentatives tbody');
            tableBody.innerHTML = '';
            tentatives.forEach(tentative => {
                const tr = document.createElement('tr');
                const tdTentative = document.createElement('td');
                tdTentative.textContent = tentative.tentative;
                const tdResultat = document.createElement('td');
                tdResultat.textContent = `${tentative.bonChiffre} bon(s) chiffre(s), ${tentative.bonnePlace} à la bonne place`;
                tr.appendChild(tdTentative);
                tr.appendChild(tdResultat);
                tableBody.appendChild(tr);
            });
        }
    </script>
</body>
</html>
