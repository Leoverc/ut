<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeu Mastermind</title>
</head>
<body>
    <div id="consoleContent"></div>

    <script>
        function afficherConsole() {
            const consoleContent = document.getElementById('consoleContent');
            const oldLog = console.log;

            // Redirigez les messages de la console vers la div
            console.log = function(message) {
                if (typeof message == 'object') {
                    consoleContent.innerHTML += (JSON && JSON.stringify ? JSON.stringify(message) : message) + '<br />';
                } else {
                    consoleContent.innerHTML += message + '<br />';
                }
            }
        }

        const v = [2,0,3,5];
        let n = [];
        let r = 0;
        let e = 0;
        let z = 0;
        let g = [];
        
        while (r > -1) {
            afficherConsole();
            let c = prompt("Entrez une série de 4 chiffres entre 0 et 9 comme 6519 : ");
            while (!c.match(/^\d{4}$/)) {
                c = prompt("Erreur : Entrez une série de 4 chiffres entre 0 et 9 comme 6519 : ");
            }
            
            n = c.split('').map(Number);
            console.log(n)
            
           
            
            v.forEach(j => {
                n.forEach(k => {
                    if (j === k) {
                        z = 1;
                    }
                });
                e += z;
                z = 0;
            });
            
            for (let i = 0; i < 4; i++) {
                if (v[i] === n[i]) {
                    r++;
                }
            }
            
            if (r === 4) {
                function afficherConsole()
                break;
            } else {
                
                alert("Il y a " + e + " bon(s) chiffre(s), dont " + r + " chiffre(s) à la bonne place\nLe jeu va continuer");
            }
            
            r = 0;
            n = [];
            e = 0;
            z = 0;
        }
    </script>
</body>
</html>
