<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master mind</title>
    <link rel="stylesheet" href="ut.css"> <!-- Inclure le fichier CSS -->
</head>
<body>
	<div class="container">
	</div>
    <h1>Master Mind</h1>

    <label for="inputNumber">Entrez un nombre :</label>
    <input type="number" id="inputNumber">
    <button onclick="ajouterElement()">Ajouter</button>

    <table id="tableauElements" border="1">
        <thead>
            <tr>
                <th>Tentative</th>
                <th>Résultat</th>
            </tr>
        </thead>
        <tbody id="tbodyElements">
            <!-- Contenu du tableau sera ajouté ici -->
        </tbody>
    </table>

    <script>
		const v = [2,0,3,5];
        let n = [];
        let r = 0;
        let e = 0;
        let z = 0;
        function ajouterElement() {
            // Récupérer le nombre saisi par l'utilisateur
            const nombre = document.getElementById('inputNumber').valueAsNumber;
			
			const nombreString = nombre.toString();

            // Si le nombre est vide ou invalide, ne rien faire
            if (isNaN(nombre)||nombreString.length !== 4) {
                alert("Veuillez saisir un nombre valide.");
				// Effacer le champ de saisie après l'ajout
				document.getElementById('inputNumber').value = '';
                return;
            }
			const nbch = nombre.toString()
			n = nbch.split('').map(Number);
			
			v.forEach(j => {
                n.forEach(k => {
                    if (j === k) {
                        z = 1;
                    }
                });
                e += z;
                z = 0;
            });
            
            for (let i = 0; i < 4; i++) {
                if (v[i] === n[i]) {
                    r++;
                }
            }
            
           

            // Créer un nouvel élément de ligne dans le tableau
            const nouvelleLigne = document.createElement('tr');

            // Créer une cellule pour le nombre
            const celluleNombre = document.createElement('td');
            celluleNombre.textContent = nombre;

            // Créer une cellule pour le résultat (nombre * 2)
            const celluleResultat = document.createElement('td');
			            if (r === 4) {
                celluleResultat.textContent ="GAGNE !!!";
            } else {
                
                celluleResultat.textContent ="Il y a " + e + " bon(s) chiffre(s), dont " + r + " chiffre(s) à la bonne place" ;
            }

            // Ajouter les cellules à la ligne
            nouvelleLigne.appendChild(celluleNombre);
            nouvelleLigne.appendChild(celluleResultat);

            // Ajouter la nouvelle ligne au tableau
            document.getElementById('tbodyElements').appendChild(nouvelleLigne);
			
			r = 0;
            n = [];
            e = 0;
            z = 0;

            // Effacer le champ de saisie après l'ajout
            document.getElementById('inputNumber').value = '';
			
			
			
        }
    </script>
</body>
</html>
