<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ajout d'éléments dans un tableau</title>
	<link rel="stylesheet" href="C:\Users\leona\python\utc\ut.css"> <!-- Inclure le fichier CSS -->
</head>
	<div class="container">
		<img src="C:\Users\leona\python\utc\ut.jpg" alt="Logo"> <!-- Ajouter l'image du logo -->
		<h1>Master Mind</h1>
		<p>Entrez un nombre entre 0 et 9 de 4 chiffres comme 1490 :</p>
		<br> 
		<input id="inputNumber" onkeydown="if (event.keyCode===13) document.getElementById('button').click();"/>
		<br> 
		<button id="button" onclick="ajouterElement()">Essayer</button>
		<table id="tableauElements" border="1">
			<thead>
				<tr>
					<th>Tentative</th>
					<th>Résultat</th>
				</tr>
			</thead>
			<tbody id="tbodyElements">
				<!-- Contenu du tableau sera ajouté ici -->
				<tr>
					<td>1254</td>
					<td>Il y a 2 bon(s) chiffre(s), dont 0 chiffre(s) à la bonne place</td>
				</tr>
				<tr>
					<td>4065</td>
					<td>Il y a 2 bon(s) chiffre(s), dont 2 chiffre(s) à la bonne place</td>
				</tr>
				
			</tbody>
		</table>
	</div>

    <script>
		const a = [1,4,9,0];
		const t = [3,0,1,4];
		const y = [8,1,9,2];
		const u = [2,8,5,0];
		const i = [7,5,2,1];
		const o = [2,6,3,2];
		const p = [7,8,4,5];
		const v = [2,0,3,5];
        let n = [];
		let na = [];
        let r = 0;
        let e = 0;
        let z = 0;
        function ajouterElement() {
            // Récupérer le nombre saisi par l'utilisateur
             nombre = document.getElementById('inputNumber').value;
			console.log(nombre);

            // Si le nombre est vide ou invalide, ne rien faire
            if (isNaN(nombre)||nombre.length !== 4) {
                alert("ERREUR !!! Entrez un nombre de 4 chiffres entre 0 et 9 comme 1490");
				// Effacer le champ de saisie après l'ajout
				document.getElementById('inputNumber').value = '';
                return;
            }
			const nbch = nombre.toString()
			n = nbch.split('').map(Number);
			
			v.forEach(j => {
                n.forEach(k => {
                    if (j === k) {
                        z = 1;
                    }
                });
                e += z;
                z = 0;
            });
            
            for (let i = 0; i < 4; i++) {
                if (v[i] === n[i]) {
                    r++;
                }
            }
            
           

            // Créer un nouvel élément de ligne dans le tableau
            const nouvelleLigne = document.createElement('tr');

            // Créer une cellule pour le nombre
            const celluleNombre = document.createElement('td');
            celluleNombre.textContent = nombre;

            // Créer une cellule pour le résultat (nombre * 2)
            const celluleResultat = document.createElement('td');
			            if (r === 4) {
                celluleResultat.textContent ="GAGNE !!!";
            } else {
                
                celluleResultat.textContent ="Il y a " + e + " bon(s) chiffre(s), dont " + r + " chiffre(s) à la bonne place" ;
            }

            // Ajouter les cellules à la ligne
            nouvelleLigne.appendChild(celluleNombre);
            nouvelleLigne.appendChild(celluleResultat);

            // Ajouter la nouvelle ligne au tableau
            document.getElementById('tbodyElements').appendChild(nouvelleLigne);
			
			r = 0;
            n = [];
            e = 0;
            z = 0;

            // Effacer le champ de saisie après l'ajout
            document.getElementById('inputNumber').value = '';
			
			
			
        }
    </script>
</body>
</html>
